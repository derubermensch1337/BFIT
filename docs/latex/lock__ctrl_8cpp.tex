\hypertarget{lock__ctrl_8cpp}{}\doxysection{src/lock\+\_\+ctrl.cpp File Reference}
\label{lock__ctrl_8cpp}\index{src/lock\_ctrl.cpp@{src/lock\_ctrl.cpp}}
{\ttfamily \#include \char`\"{}lock\+\_\+ctrl.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}buzzer.\+h\char`\"{}}\newline
Include dependency graph for lock\+\_\+ctrl.\+cpp\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=225pt]{lock__ctrl_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{lock__ctrl_8cpp_a73f85ca7eef43ea76053c19cb6515a3f}{lock\+\_\+ctrl\+\_\+init}} ()
\begin{DoxyCompactList}\small\item\em Initializes the lock control module. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{lock__ctrl_8cpp_acc746d35b26615d437e9c3df2ec0cdfc}{lock\+\_\+door}} ()
\begin{DoxyCompactList}\small\item\em Locks the door using the servo. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{lock__ctrl_8cpp_ac3411e1e911a7479c9880084ef1c62eb}{unlock\+\_\+door}} ()
\begin{DoxyCompactList}\small\item\em Unlocks the door using the servo. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{lock__ctrl_8cpp_ac854db649e8e27e6f2f34df2311c07ea}{is\+\_\+box\+\_\+closed}} ()
\begin{DoxyCompactList}\small\item\em Checks whether the box is closed. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{lock__ctrl_8cpp_a31ffbd66baac0dcbd686e4e59e5d3c45}{play\+\_\+open}} ()
\begin{DoxyCompactList}\small\item\em Plays the sound effect for door opening. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{lock__ctrl_8cpp_a5d3b72f442ced251e4b9a4e6a869c55a}{play\+\_\+close}} ()
\begin{DoxyCompactList}\small\item\em Play sound effect when the door closes. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static Servo \mbox{\hyperlink{lock__ctrl_8cpp_abab65b22cd1ec97c58f9d750cbfca3b7}{lock\+Servo}}
\item 
static const int \mbox{\hyperlink{lock__ctrl_8cpp_a45e03b9b268eac2e1d0e116b521f86c4}{UNLOCK\+\_\+\+POS}} = 0
\begin{DoxyCompactList}\small\item\em Servo position corresponding to the unlocked state (mechanically fixed). \end{DoxyCompactList}\item 
static const int \mbox{\hyperlink{lock__ctrl_8cpp_ae825e09926ffe6e189dc34c83f669a01}{LOCK\+\_\+\+POS}} = 100
\begin{DoxyCompactList}\small\item\em Servo position corresponding to the locked state. \end{DoxyCompactList}\item 
const int \mbox{\hyperlink{lock__ctrl_8cpp_ade03263f2baf50b55111322a7c1630c2}{BUZZER}} = 2
\begin{DoxyCompactList}\small\item\em GPIO pin connected to the buzzer. \end{DoxyCompactList}\item 
const double \mbox{\hyperlink{lock__ctrl_8cpp_ad2f28c9419f90dda0203c2c45f6ce63f}{HIGH\+\_\+\+TONE}} = 1000
\begin{DoxyCompactList}\small\item\em Frequency (Hz) used for the high-\/tone buzzer sound. \end{DoxyCompactList}\item 
const double \mbox{\hyperlink{lock__ctrl_8cpp_afe109cb6a7f4d3d461b84cd1ff565032}{LOW\+\_\+\+TONE}} = 600
\begin{DoxyCompactList}\small\item\em Frequency (Hz) used for the low-\/tone buzzer sound. \end{DoxyCompactList}\item 
const unsigned long \mbox{\hyperlink{lock__ctrl_8cpp_a6442e319285672d7f65e2cfeeaa8f893}{TONE\+\_\+\+LENGTH}} = 200
\begin{DoxyCompactList}\small\item\em Duration of buzzer tone in milliseconds. \end{DoxyCompactList}\item 
static bool \mbox{\hyperlink{lock__ctrl_8cpp_ac119c560d40e40619cb536f74f0ea074}{box\+Closed}} = false
\begin{DoxyCompactList}\small\item\em Internal latched state indicating whether the box is closed. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyAuthor}{Authors}
Amal Araweelo Almis 
\end{DoxyAuthor}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{lock__ctrl_8cpp_ac854db649e8e27e6f2f34df2311c07ea}\label{lock__ctrl_8cpp_ac854db649e8e27e6f2f34df2311c07ea}} 
\index{lock\_ctrl.cpp@{lock\_ctrl.cpp}!is\_box\_closed@{is\_box\_closed}}
\index{is\_box\_closed@{is\_box\_closed}!lock\_ctrl.cpp@{lock\_ctrl.cpp}}
\doxysubsubsection{\texorpdfstring{is\_box\_closed()}{is\_box\_closed()}}
{\footnotesize\ttfamily bool is\+\_\+box\+\_\+closed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Checks whether the box is closed. 

Uses the light sensor to determine door state.

\begin{DoxyReturn}{Returns}
true Box is closed. 

false Box is open. 
\end{DoxyReturn}
\mbox{\Hypertarget{lock__ctrl_8cpp_a73f85ca7eef43ea76053c19cb6515a3f}\label{lock__ctrl_8cpp_a73f85ca7eef43ea76053c19cb6515a3f}} 
\index{lock\_ctrl.cpp@{lock\_ctrl.cpp}!lock\_ctrl\_init@{lock\_ctrl\_init}}
\index{lock\_ctrl\_init@{lock\_ctrl\_init}!lock\_ctrl.cpp@{lock\_ctrl.cpp}}
\doxysubsubsection{\texorpdfstring{lock\_ctrl\_init()}{lock\_ctrl\_init()}}
{\footnotesize\ttfamily void lock\+\_\+ctrl\+\_\+init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Initializes the lock control module. 

Must be called once during system startup before any other lock control functions are used. \mbox{\Hypertarget{lock__ctrl_8cpp_acc746d35b26615d437e9c3df2ec0cdfc}\label{lock__ctrl_8cpp_acc746d35b26615d437e9c3df2ec0cdfc}} 
\index{lock\_ctrl.cpp@{lock\_ctrl.cpp}!lock\_door@{lock\_door}}
\index{lock\_door@{lock\_door}!lock\_ctrl.cpp@{lock\_ctrl.cpp}}
\doxysubsubsection{\texorpdfstring{lock\_door()}{lock\_door()}}
{\footnotesize\ttfamily void lock\+\_\+door (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Locks the door using the servo. 

\mbox{\Hypertarget{lock__ctrl_8cpp_a5d3b72f442ced251e4b9a4e6a869c55a}\label{lock__ctrl_8cpp_a5d3b72f442ced251e4b9a4e6a869c55a}} 
\index{lock\_ctrl.cpp@{lock\_ctrl.cpp}!play\_close@{play\_close}}
\index{play\_close@{play\_close}!lock\_ctrl.cpp@{lock\_ctrl.cpp}}
\doxysubsubsection{\texorpdfstring{play\_close()}{play\_close()}}
{\footnotesize\ttfamily void play\+\_\+close (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Play sound effect when the door closes. 

\mbox{\Hypertarget{lock__ctrl_8cpp_a31ffbd66baac0dcbd686e4e59e5d3c45}\label{lock__ctrl_8cpp_a31ffbd66baac0dcbd686e4e59e5d3c45}} 
\index{lock\_ctrl.cpp@{lock\_ctrl.cpp}!play\_open@{play\_open}}
\index{play\_open@{play\_open}!lock\_ctrl.cpp@{lock\_ctrl.cpp}}
\doxysubsubsection{\texorpdfstring{play\_open()}{play\_open()}}
{\footnotesize\ttfamily void play\+\_\+open (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Plays the sound effect for door opening. 

\mbox{\Hypertarget{lock__ctrl_8cpp_ac3411e1e911a7479c9880084ef1c62eb}\label{lock__ctrl_8cpp_ac3411e1e911a7479c9880084ef1c62eb}} 
\index{lock\_ctrl.cpp@{lock\_ctrl.cpp}!unlock\_door@{unlock\_door}}
\index{unlock\_door@{unlock\_door}!lock\_ctrl.cpp@{lock\_ctrl.cpp}}
\doxysubsubsection{\texorpdfstring{unlock\_door()}{unlock\_door()}}
{\footnotesize\ttfamily void unlock\+\_\+door (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Unlocks the door using the servo. 



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{lock__ctrl_8cpp_ac119c560d40e40619cb536f74f0ea074}\label{lock__ctrl_8cpp_ac119c560d40e40619cb536f74f0ea074}} 
\index{lock\_ctrl.cpp@{lock\_ctrl.cpp}!boxClosed@{boxClosed}}
\index{boxClosed@{boxClosed}!lock\_ctrl.cpp@{lock\_ctrl.cpp}}
\doxysubsubsection{\texorpdfstring{boxClosed}{boxClosed}}
{\footnotesize\ttfamily bool box\+Closed = false\hspace{0.3cm}{\ttfamily [static]}}



Internal latched state indicating whether the box is closed. 

\mbox{\Hypertarget{lock__ctrl_8cpp_ade03263f2baf50b55111322a7c1630c2}\label{lock__ctrl_8cpp_ade03263f2baf50b55111322a7c1630c2}} 
\index{lock\_ctrl.cpp@{lock\_ctrl.cpp}!BUZZER@{BUZZER}}
\index{BUZZER@{BUZZER}!lock\_ctrl.cpp@{lock\_ctrl.cpp}}
\doxysubsubsection{\texorpdfstring{BUZZER}{BUZZER}}
{\footnotesize\ttfamily const int BUZZER = 2}



GPIO pin connected to the buzzer. 

\begin{DoxyNote}{Note}
This pin choice may cause reset issues on some boards. 
\end{DoxyNote}
\mbox{\Hypertarget{lock__ctrl_8cpp_ad2f28c9419f90dda0203c2c45f6ce63f}\label{lock__ctrl_8cpp_ad2f28c9419f90dda0203c2c45f6ce63f}} 
\index{lock\_ctrl.cpp@{lock\_ctrl.cpp}!HIGH\_TONE@{HIGH\_TONE}}
\index{HIGH\_TONE@{HIGH\_TONE}!lock\_ctrl.cpp@{lock\_ctrl.cpp}}
\doxysubsubsection{\texorpdfstring{HIGH\_TONE}{HIGH\_TONE}}
{\footnotesize\ttfamily const double HIGH\+\_\+\+TONE = 1000}



Frequency (Hz) used for the high-\/tone buzzer sound. 

\mbox{\Hypertarget{lock__ctrl_8cpp_ae825e09926ffe6e189dc34c83f669a01}\label{lock__ctrl_8cpp_ae825e09926ffe6e189dc34c83f669a01}} 
\index{lock\_ctrl.cpp@{lock\_ctrl.cpp}!LOCK\_POS@{LOCK\_POS}}
\index{LOCK\_POS@{LOCK\_POS}!lock\_ctrl.cpp@{lock\_ctrl.cpp}}
\doxysubsubsection{\texorpdfstring{LOCK\_POS}{LOCK\_POS}}
{\footnotesize\ttfamily const int LOCK\+\_\+\+POS = 100\hspace{0.3cm}{\ttfamily [static]}}



Servo position corresponding to the locked state. 

\mbox{\Hypertarget{lock__ctrl_8cpp_abab65b22cd1ec97c58f9d750cbfca3b7}\label{lock__ctrl_8cpp_abab65b22cd1ec97c58f9d750cbfca3b7}} 
\index{lock\_ctrl.cpp@{lock\_ctrl.cpp}!lockServo@{lockServo}}
\index{lockServo@{lockServo}!lock\_ctrl.cpp@{lock\_ctrl.cpp}}
\doxysubsubsection{\texorpdfstring{lockServo}{lockServo}}
{\footnotesize\ttfamily Servo lock\+Servo\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{lock__ctrl_8cpp_afe109cb6a7f4d3d461b84cd1ff565032}\label{lock__ctrl_8cpp_afe109cb6a7f4d3d461b84cd1ff565032}} 
\index{lock\_ctrl.cpp@{lock\_ctrl.cpp}!LOW\_TONE@{LOW\_TONE}}
\index{LOW\_TONE@{LOW\_TONE}!lock\_ctrl.cpp@{lock\_ctrl.cpp}}
\doxysubsubsection{\texorpdfstring{LOW\_TONE}{LOW\_TONE}}
{\footnotesize\ttfamily const double LOW\+\_\+\+TONE = 600}



Frequency (Hz) used for the low-\/tone buzzer sound. 

\mbox{\Hypertarget{lock__ctrl_8cpp_a6442e319285672d7f65e2cfeeaa8f893}\label{lock__ctrl_8cpp_a6442e319285672d7f65e2cfeeaa8f893}} 
\index{lock\_ctrl.cpp@{lock\_ctrl.cpp}!TONE\_LENGTH@{TONE\_LENGTH}}
\index{TONE\_LENGTH@{TONE\_LENGTH}!lock\_ctrl.cpp@{lock\_ctrl.cpp}}
\doxysubsubsection{\texorpdfstring{TONE\_LENGTH}{TONE\_LENGTH}}
{\footnotesize\ttfamily const unsigned long TONE\+\_\+\+LENGTH = 200}



Duration of buzzer tone in milliseconds. 

\mbox{\Hypertarget{lock__ctrl_8cpp_a45e03b9b268eac2e1d0e116b521f86c4}\label{lock__ctrl_8cpp_a45e03b9b268eac2e1d0e116b521f86c4}} 
\index{lock\_ctrl.cpp@{lock\_ctrl.cpp}!UNLOCK\_POS@{UNLOCK\_POS}}
\index{UNLOCK\_POS@{UNLOCK\_POS}!lock\_ctrl.cpp@{lock\_ctrl.cpp}}
\doxysubsubsection{\texorpdfstring{UNLOCK\_POS}{UNLOCK\_POS}}
{\footnotesize\ttfamily const int UNLOCK\+\_\+\+POS = 0\hspace{0.3cm}{\ttfamily [static]}}



Servo position corresponding to the unlocked state (mechanically fixed). 

