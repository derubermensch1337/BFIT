\doxysection{src/\+database\+\_\+management.cpp File Reference}
\hypertarget{database__management_8cpp}{}\label{database__management_8cpp}\index{src/database\_management.cpp@{src/database\_management.cpp}}


Used to read and write non-\/volatile memory on ESP8266.  


{\ttfamily \+\#include "{}rfid\+\_\+access.\+h"{}}\newline
{\ttfamily \+\#include $<$EEPROM.\+h$>$}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \doxymbox{\hyperlink{database__management_8cpp_a94d9e7ef2a92977cb88d517ab29310cb}{user\+\_\+management}} (\doxymbox{\hyperlink{rfid__access_8h_aff8e30d9f71191b67c6c684478ab46d4}{RFIDcommand}} incoming\+Command, \doxymbox{\hyperlink{struct_user}{User}} \texorpdfstring{$\ast$}{*}ptr, MFRC522 \&\doxymbox{\hyperlink{main_8cpp_a7cc33c6b9b1bd83e02864b1eb0530a63}{rfid}})
\begin{DoxyCompactList}\small\item\em Executes user-\/management actions based on the provided command. \end{DoxyCompactList}\item 
bool \doxymbox{\hyperlink{database__management_8cpp_ad745c57a9162c9705468fecedffdbe4b}{remove\+\_\+user}} ()
\begin{DoxyCompactList}\small\item\em Removes a user from the database. \end{DoxyCompactList}\item 
void \doxymbox{\hyperlink{database__management_8cpp_ac2c85ddce939a0783611c6417ef9d203}{get\+\_\+users\+\_\+db}} (\doxymbox{\hyperlink{struct_user}{User}} \texorpdfstring{$\ast$}{*}ptr)
\begin{DoxyCompactList}\small\item\em Copies the current user database to a provided buffer. \end{DoxyCompactList}\item 
void \doxymbox{\hyperlink{database__management_8cpp_a1fec7802968f92d8a82b2c3c48414fc9}{print\+\_\+all\+\_\+users}} (\doxymbox{\hyperlink{struct_user}{User}} \texorpdfstring{$\ast$}{*}ptr)
\begin{DoxyCompactList}\small\item\em Prints all users in the database to the serial interface. \end{DoxyCompactList}\item 
void \doxymbox{\hyperlink{database__management_8cpp_a95b7f5158425cbc9144616c6e9a16f68}{print\+\_\+single\+\_\+user}} (\doxymbox{\hyperlink{struct_user}{User}} \texorpdfstring{$\ast$}{*}ptr, int idx)
\begin{DoxyCompactList}\small\item\em brief Prints a single user entry to the serial interface. \end{DoxyCompactList}\item 
void \doxymbox{\hyperlink{database__management_8cpp_af2dd70513ccb1d0c9ce1b509c5a971db}{print\+\_\+uid}} (byte \texorpdfstring{$\ast$}{*}ptr)
\begin{DoxyCompactList}\small\item\em Prints a UID buffer to the serial interface. \end{DoxyCompactList}\item 
int \doxymbox{\hyperlink{database__management_8cpp_ae73ed12a431c429f1bdd5d5d81a977ce}{read\+\_\+integer}} ()
\begin{DoxyCompactList}\small\item\em Reads an integer from the serial interface. \end{DoxyCompactList}\item 
bool \doxymbox{\hyperlink{database__management_8cpp_a51940e2d9df35efbab60ea3076d03266}{read\+\_\+confirmation}} ()
\begin{DoxyCompactList}\small\item\em Reads a confirmation input from the serial interface. \end{DoxyCompactList}\item 
int \doxymbox{\hyperlink{database__management_8cpp_a4df3b276724481c8cc667599b6733ff0}{find\+\_\+empty\+\_\+index}} (\doxymbox{\hyperlink{struct_user}{User}} \texorpdfstring{$\ast$}{*}ptr)
\begin{DoxyCompactList}\small\item\em brief Finds an empty slot in the user database. \end{DoxyCompactList}\item 
int \doxymbox{\hyperlink{database__management_8cpp_aee642965bad74cd187195f79bd5f291d}{count\+\_\+rooms}} (\doxymbox{\hyperlink{struct_user}{User}} \texorpdfstring{$\ast$}{*}ptr)
\begin{DoxyCompactList}\small\item\em brief Counts the number of occupied user entries in the database. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Used to read and write non-\/volatile memory on ESP8266. 

\begin{DoxyAuthor}{Authors}
Anssi Sohlman, 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
16-\/01-\/2026 
\end{DoxyDate}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyParagraph}{Revision history}
\texorpdfstring{$\vert$}{|} Version \texorpdfstring{$\vert$}{|} Date \texorpdfstring{$\vert$}{|} Description \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|}-\/-\/-\/-\/-\/-\/---\texorpdfstring{$\vert$}{|}-\/-\/-\/-\/-\/-\/-\/-\/-\/---\texorpdfstring{$\vert$}{|}-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---\texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} 0.\+1 \texorpdfstring{$\vert$}{|} 16-\/01-\/2026 \texorpdfstring{$\vert$}{|} Initial version \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|}
\end{DoxyParagraph}
\begin{DoxyCopyright}{Copyright}
Copyright (c) 2026 
\end{DoxyCopyright}


\label{doc-func-members}
\Hypertarget{database__management_8cpp_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{database__management_8cpp_aee642965bad74cd187195f79bd5f291d}\index{database\_management.cpp@{database\_management.cpp}!count\_rooms@{count\_rooms}}
\index{count\_rooms@{count\_rooms}!database\_management.cpp@{database\_management.cpp}}
\doxysubsubsection{\texorpdfstring{count\_rooms()}{count\_rooms()}}
{\footnotesize\ttfamily \label{database__management_8cpp_aee642965bad74cd187195f79bd5f291d} 
int count\+\_\+rooms (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{struct_user}{User}} \texorpdfstring{$\ast$}{*}}]{ptr}{}\end{DoxyParamCaption})}



brief Counts the number of occupied user entries in the database. 


\begin{DoxyParams}{Parameters}
{\em ptr} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}
\Hypertarget{database__management_8cpp_a4df3b276724481c8cc667599b6733ff0}\index{database\_management.cpp@{database\_management.cpp}!find\_empty\_index@{find\_empty\_index}}
\index{find\_empty\_index@{find\_empty\_index}!database\_management.cpp@{database\_management.cpp}}
\doxysubsubsection{\texorpdfstring{find\_empty\_index()}{find\_empty\_index()}}
{\footnotesize\ttfamily \label{database__management_8cpp_a4df3b276724481c8cc667599b6733ff0} 
int find\+\_\+empty\+\_\+index (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{struct_user}{User}} \texorpdfstring{$\ast$}{*}}]{ptr}{}\end{DoxyParamCaption})}



brief Finds an empty slot in the user database. 


\begin{DoxyParams}{Parameters}
{\em ptr} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}
\Hypertarget{database__management_8cpp_ac2c85ddce939a0783611c6417ef9d203}\index{database\_management.cpp@{database\_management.cpp}!get\_users\_db@{get\_users\_db}}
\index{get\_users\_db@{get\_users\_db}!database\_management.cpp@{database\_management.cpp}}
\doxysubsubsection{\texorpdfstring{get\_users\_db()}{get\_users\_db()}}
{\footnotesize\ttfamily \label{database__management_8cpp_ac2c85ddce939a0783611c6417ef9d203} 
void get\+\_\+users\+\_\+db (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{struct_user}{User}} \texorpdfstring{$\ast$}{*}}]{ptr}{}\end{DoxyParamCaption})}



Copies the current user database to a provided buffer. 


\begin{DoxyParams}{Parameters}
{\em ptr} & \\
\hline
\end{DoxyParams}
\Hypertarget{database__management_8cpp_a1fec7802968f92d8a82b2c3c48414fc9}\index{database\_management.cpp@{database\_management.cpp}!print\_all\_users@{print\_all\_users}}
\index{print\_all\_users@{print\_all\_users}!database\_management.cpp@{database\_management.cpp}}
\doxysubsubsection{\texorpdfstring{print\_all\_users()}{print\_all\_users()}}
{\footnotesize\ttfamily \label{database__management_8cpp_a1fec7802968f92d8a82b2c3c48414fc9} 
void print\+\_\+all\+\_\+users (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{struct_user}{User}} \texorpdfstring{$\ast$}{*}}]{ptr}{}\end{DoxyParamCaption})}



Prints all users in the database to the serial interface. 


\begin{DoxyParams}{Parameters}
{\em ptr} & \\
\hline
\end{DoxyParams}
\Hypertarget{database__management_8cpp_a95b7f5158425cbc9144616c6e9a16f68}\index{database\_management.cpp@{database\_management.cpp}!print\_single\_user@{print\_single\_user}}
\index{print\_single\_user@{print\_single\_user}!database\_management.cpp@{database\_management.cpp}}
\doxysubsubsection{\texorpdfstring{print\_single\_user()}{print\_single\_user()}}
{\footnotesize\ttfamily \label{database__management_8cpp_a95b7f5158425cbc9144616c6e9a16f68} 
void print\+\_\+single\+\_\+user (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{struct_user}{User}} \texorpdfstring{$\ast$}{*}}]{ptr}{, }\item[{int}]{idx}{}\end{DoxyParamCaption})}



brief Prints a single user entry to the serial interface. 


\begin{DoxyParams}{Parameters}
{\em ptr} & \\
\hline
{\em idx} & \\
\hline
\end{DoxyParams}
\Hypertarget{database__management_8cpp_af2dd70513ccb1d0c9ce1b509c5a971db}\index{database\_management.cpp@{database\_management.cpp}!print\_uid@{print\_uid}}
\index{print\_uid@{print\_uid}!database\_management.cpp@{database\_management.cpp}}
\doxysubsubsection{\texorpdfstring{print\_uid()}{print\_uid()}}
{\footnotesize\ttfamily \label{database__management_8cpp_af2dd70513ccb1d0c9ce1b509c5a971db} 
void print\+\_\+uid (\begin{DoxyParamCaption}\item[{byte \texorpdfstring{$\ast$}{*}}]{ptr}{}\end{DoxyParamCaption})}



Prints a UID buffer to the serial interface. 


\begin{DoxyParams}{Parameters}
{\em ptr} & \\
\hline
\end{DoxyParams}
\Hypertarget{database__management_8cpp_a51940e2d9df35efbab60ea3076d03266}\index{database\_management.cpp@{database\_management.cpp}!read\_confirmation@{read\_confirmation}}
\index{read\_confirmation@{read\_confirmation}!database\_management.cpp@{database\_management.cpp}}
\doxysubsubsection{\texorpdfstring{read\_confirmation()}{read\_confirmation()}}
{\footnotesize\ttfamily \label{database__management_8cpp_a51940e2d9df35efbab60ea3076d03266} 
bool read\+\_\+confirmation (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Reads a confirmation input from the serial interface. 

\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}
\Hypertarget{database__management_8cpp_ae73ed12a431c429f1bdd5d5d81a977ce}\index{database\_management.cpp@{database\_management.cpp}!read\_integer@{read\_integer}}
\index{read\_integer@{read\_integer}!database\_management.cpp@{database\_management.cpp}}
\doxysubsubsection{\texorpdfstring{read\_integer()}{read\_integer()}}
{\footnotesize\ttfamily \label{database__management_8cpp_ae73ed12a431c429f1bdd5d5d81a977ce} 
int read\+\_\+integer (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Reads an integer from the serial interface. 

\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}
\Hypertarget{database__management_8cpp_ad745c57a9162c9705468fecedffdbe4b}\index{database\_management.cpp@{database\_management.cpp}!remove\_user@{remove\_user}}
\index{remove\_user@{remove\_user}!database\_management.cpp@{database\_management.cpp}}
\doxysubsubsection{\texorpdfstring{remove\_user()}{remove\_user()}}
{\footnotesize\ttfamily \label{database__management_8cpp_ad745c57a9162c9705468fecedffdbe4b} 
bool remove\+\_\+user (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Removes a user from the database. 

\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}
\Hypertarget{database__management_8cpp_a94d9e7ef2a92977cb88d517ab29310cb}\index{database\_management.cpp@{database\_management.cpp}!user\_management@{user\_management}}
\index{user\_management@{user\_management}!database\_management.cpp@{database\_management.cpp}}
\doxysubsubsection{\texorpdfstring{user\_management()}{user\_management()}}
{\footnotesize\ttfamily \label{database__management_8cpp_a94d9e7ef2a92977cb88d517ab29310cb} 
void user\+\_\+management (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{rfid__access_8h_aff8e30d9f71191b67c6c684478ab46d4}{RFIDcommand}}}]{cmd}{, }\item[{\doxymbox{\hyperlink{struct_user}{User}} \texorpdfstring{$\ast$}{*}}]{ptr}{, }\item[{MFRC522 \&}]{rfid}{}\end{DoxyParamCaption})}



Executes user-\/management actions based on the provided command. 


\begin{DoxyParams}{Parameters}
{\em cmd} & \\
\hline
{\em ptr} & \\
\hline
{\em \doxylink{main_8cpp_a7cc33c6b9b1bd83e02864b1eb0530a63}{rfid}} & \\
\hline
\end{DoxyParams}
